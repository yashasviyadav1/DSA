# 337. House Robber III

### [Leetcode](https://leetcode.com/problems/house-robber-iii/description/)

![image](https://github.com/user-attachments/assets/575df449-3a6d-4ab5-a300-e19332c250c8)


```java
// at any point to find max money sum we can rob at root is always max(maxSum incRoot, maxSum excluding root)
// maxSum inc root means -> root is included + maxSum of left tree without leftroot, max sum of right tree without rightroot
// maxSum excluding root means -> maxSum either inc or excluding left root + maxSum either inc or excluding right root

class Solution {
    private int[] solve(TreeNode root){

        if(root == null) return new int[]{0, 0};

        // finding max sum from left and right subtrees 
        int[] leftSum = solve(root.left);
        int[] rightSum = solve(root.right);

        // if root included we can not include value of roots childs (so use their excluded sum i.e at 1st index)
        // if root not included then we can have max sum with or without its child (whichever is maximum sum)
        int maxSumIncRoot = root.val + leftSum[1] + rightSum[1]; 
        int maxSumExcRoot = Math.max(leftSum[0], leftSum[1]) + Math.max(rightSum[0], rightSum[1]);

        return new int[]{maxSumIncRoot, maxSumExcRoot};
    }
    public int rob(TreeNode root) {

        // ans[0] = maxSum including root
        // ans[1] = maxSum excluding root
        int[] ans = solve(root);
        return Math.max(ans[0], ans[1]);
    }
}
```
